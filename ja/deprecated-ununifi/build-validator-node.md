# バリデータノードの構築

バリデータは、ブロックチェーンに新しいブロックをコミットする責任があります。これらのバリデータは、各バリデータの秘密鍵で署名された暗号署名を含む投票をブロードキャストすることにより、コンセンサスプロトコルに参加します。

バリデータとそのデリゲーターは、Tendermintコンセンサスプロトコルの実行を通じて、ブロックプロビジョンとしてGUUを獲得し、トランザクション手数料としてトークンを獲得します。バリデータは、追加のインセンティブとして、デリゲーターが受け取る手数料に手数料率を設定できることに注意してください。

メインネット用にバリデータを準備するには、いくつかの追加の考慮事項が必要です。それらは以下に詳述されていますが、賢明なチェックリストは次のとおりです。

- チェーンのアップグレードをどのように処理しますか？
  - 検討事項：Cosmovisor
- ノードが稼働していることをどのように知りますか？
  - 検討事項：監視とアラート
- DDOS攻撃をどのように軽減しますか？
  - 検討事項：セントリーノード
- どのくらいのストレージが必要ですか？

## バリデータ候補として登録するためのトランザクションの送信

> 前の手順に従ってノードが完全に同期されるまで、ノードをバリデータにアップグレードしようとしないでください。

ノードをバリデータにアップグレードするには、`create-validator`トランザクションを送信する必要があります。

```Bash
ununifid tx staking create-validator \
  --amount 1000000uguu \
  --commission-max-change-rate "0.1" \
  --commission-max-rate "0.20" \
  --commission-rate "0.1" \
  --min-self-delegation "1" \
  --details "バリデータも自己紹介を書きます" \
  --pubkey=$(ununifid tendermint show-validator) \
  --moniker "$MONIKER" \
  --chain-id $CHAIN_ID \
  --gas-prices 0.025uguu \
  --from <your-key>
```

> 上記のトランザクションは単なる例です。バリデータのウェブサイトやkeybase.ioのIDなど、バリデータをカスタマイズするために設定できるフラグは他にもたくさんあります。完全なリストを表示するには：
> `ununifid tx staking create-validator --help`

## 重要なファイルのバックアップ

何らかの理由でバリデータが損傷したり失われたりした場合に復元できるように、バックアップする必要がある特定のファイルがあります。`~/.ununifi/config/`にある次のファイルを安全にバックアップしてください。

- `priv_validator_key.json`
- `node_key.json`

これらのファイルのバックアップは暗号化することをお勧めします。

## バリデータへの追加インセンティブ

コアチームは、以下のサービスを提供するバリデータにGUUをデリゲートします。

- IBCリレーヤー
  - チャネルごとに`100000000uguu`のデリゲーション
- ノードスナップショット
  - `10000000000uguu`のデリゲーション
- REST APIエンドポイント
  - `10000000000uguu`のデリゲーション
