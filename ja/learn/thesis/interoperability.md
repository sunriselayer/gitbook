# ソブリンロールアップにおける相互運用性

ソブリンロールアップは、レイヤー2設計における重要な進化を示しています。決済レイヤーのブリッジコントラクトにクロスチェーン検証を委任する代わりに、ソブリンロールアップは対抗チェーンの*独自のライトクライアント検証を実行*し、したがって、アプリケーションレベルで*どのように*、そして*誰と*通信するかを決定します。
このアーキテクチャは、外部レイヤーでの信頼性を最小限に抑えたデータ可用性（DA）と決済を可能にしながら、ロールアップの自律性を維持します。

---

## 従来のスマートコントラクトロールアップ

古典的なオプティミスティック/ZKロールアップでは、すべてのクロスチェーンアクションは、レイヤー1決済チェーン上に存在する**1つのハードコードされた「聖域」ブリッジ**を通過する必要があります。

**実行パス**

1. **L1上のロールアップコントラクト** – 状態ルートとブリッジロジックを保存します。
2. **証明/オプティミスティックウィンドウ** – ロールアップは証明またはルートを投稿します。ブリッジコントラクトは不正/ZK証明を裁定します。
3. **アウトバウンド転送** – ユーザーはブリッジ内に資産をロックします。引き出し証明はコントラクトによって検証されます。
4. **アップグレードの摩擦** – ブリッジのセマンティクスに変更を加えるには、L1コントラクトのアップグレードが必要です（多くの場合、ガバナンスのハードフォークを介して）。

**制限事項**

* **単一障害点** – ブリッジコントラクトはシステムリスクになります。
* **異種ブリッジなし** – アプリケーションはL1ガバナンスなしで新しいチャネルを追加できません。
* **ラップされた資産** – ほとんどのブリッジは、ネイティブ転送の代わりにIOUトークンを発行します。
* **スループットのボトルネック** – すべてのメッセージが同じコントラクトにキューイングされます。ガススパイクはロールアップユーザーに伝播します。

---

## ソブリンロールアップ

ソブリンロールアップは、そのデータ（ブロブ、状態ルート）をDAレイヤーに公開しますが、オンチェーンのライトクライアントまたは有効性証明を介して他のチェーンを*自己検証*します。
ブリッジは、許可なく展開およびアップグレードできる通常のモジュールになります。

### 技術的特性

| 機能 | 実装の詳細 |
| --- | --- |
| **自己主権検証** | 各リモートチェーン用の埋め込みライトクライアントまたはZK検証者。外部ブリッジコントラクトへの依存なし。 |
| **複数プロトコル** | IBC、カスタムSNARKブリッジ、またはトークン固有のチャネルを並行してサポート。 |
| **ネイティブ資産移動** | ライトクライアント検証により、ロールアップは*元の*トークンのロックを解除でき、ラップされたIOUを回避できます。 |
| **構成可能なチャネル** | 各アプリケーションは、カスタム手数料ロジック、レート制限、またはミドルウェアを備えた独立したチャネルをインスタンス化できます。 |
| **分離されたアップグレード** | ブリッジロジックはロールアップモジュールです。アップグレードにはL1ガバナンスは**不要**で、ロールアップガバナンスまたはコード更新のみが必要です。 |

---

## IBC — ソブリン相互運用性の事実上の標準

**Inter-Blockchain Communication (IBC)**プロトコル（Cosmos SDK発祥）は、以下を提供します。

* **クライアント-接続-チャネル抽象化** – 認証（ライトクライアント）とアプリケーションセマンティクスをきれいに分離する階層化されたハンドシェイク。
* **コミットのみのライトクライアント** – 各チェーンは他のチェーンのヘッダーコミットメントを保存し、オンチェーンでマークル証明を検証します。
* **許可不要のリレーヤー** – オフチェーンプロセスがパケットをブロードキャストします。どの俳優も信頼力を得ることなくリレーできます。
* **順序付き/順序なしチャネル** – ファンジブルトークン（ICS-20）と任意のデータ（ICS-27、ICS-721など）の両方に適した決定論的なパケットシーケンス。
* **タイムアウトとアップグレードパス** – 不正行為があった場合、チャネルは閉じることができます。ライトクライアントは、新しいクライアント状態のオンチェーン証明を使用して自律的にアップグレードします。

ソブリンロールアップはすでに自身の状態遷移関数を所有しているため、IBCの統合には以下のみが必要です。

1. IBC*コア*モジュール（クライアント、接続、チャネルロジック）のインポート。
2. 各対抗相手のライトクライアント実装の提供（例：Tendermint-BFT、zkベースのヘッダー証明、Ethereum-SSZ）。
3. パケットをマーシャリングするアプリケーションモジュール（トークン転送、クロスロールアップDEXなど）の定義。

---

## 比較：従来型 vs. ソブリン相互運用性

| 特徴 | 従来のロールアップ | ソブリンロールアップ |
| --- | --- | --- |
| ブリッジ権限 | L1決済レイヤー | 自己主権検証 |
| ブリッジのカスタマイズ | 限定的またはなし | 完全にカスタマイズ可能 |
| プロトコルサポート | 独自、単一ブリッジ | 複数（IBC、ZKブリッジ、カスタム） |
| 資産タイプ | 多くの場合トークンに限定 | トークン、NFT、任意のデータパケット |
| セキュリティモデル | L1ブリッジコントラクトを継承 | ライトクライアントまたは有効性証明の選択 |
| アップグレードパス | L1ガバナンスに依存 | 独立—ロールアップレベルのガバナンス |

---

## ソブリンロールアップのツーリングとエコシステム

| フレームワーク/コンポーネント | 相互運用性機能 |
| --- | --- |
| **Rollkit** | プラグアンドプレイのモジュラーロールアップフレームワーク。ネイティブIBC配線。Tendermint、Celestia、Sunrise DAバックエンドをサポート。 |
| **Sovereign SDK** | ゼロ知識または不正証明ソブリンチェーン用のRustツールキット。汎用IBCライトクライアントトレイトとリレーヤーフックを同梱。 |
| **Sunrise DA** | Proof of Liquidity (PoL)によるデータ可用性を提供。ソブリンロールアップがSunrise上に構築されると、より広範なIBCメッシュへの接続性を継承できるようにIBCインターフェースを公開。 |
| **アプリケーションパターン** | *クロスチェーンDeFi*（オムニ流動性プール）、*相互運用可能なゲーム*（資産のポータビリティ）、*マルチチェーンアイデンティティ*（DIDパケット）、*チェーンに依存しないDAO*（複数のロールアップにまたがるガバナンス）。 |
